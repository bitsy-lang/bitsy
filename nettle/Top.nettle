top {
    port out;
    out <= counter.val;

    reg counter reset 0w2;
    counter.set <= counter.val + 1w4;

    vip.in <= counter.val;

    node exit;

    exit <= if counter.val !=  15w4 {
        X
    } else {
        ?
    };

    ext vip {
        port in;
    }
}
