top {
    mod foo {
        outgoing out of Word<1>;

        reg counter of Word<4> reset 1w4;

        counter <= cat(counter[3..0], counter[3]);
        out := counter[3];
    }

    ext vip {
        incoming in of Word<1>;
    }

    vip.in := foo.out;
}
