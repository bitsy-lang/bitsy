enum type State
    @Idle
    @Running of Tuple<Word<4>, Foo>
end

struct type Foo
    field bar : Word<4>
    field baz : State
end

pub mod Top
    incoming in  : Word<8>@d
    outgoing out : Word<8>@d

    pub wire io.out <= { io.in + 1 }
end
